apiVersion: v1       # Versão da API
kind: Service        # Tipo: Load Balancer interno
metadata:
  name: backend-service    # ← NOME DNS (backend-service.k8slab.svc.cluster.local)
  namespace: k8slab        # Namespace
  labels:
    app: backend           # Label para organização
spec:
  selector:                # ← COMO ENCONTRAR OS PODS
    app: backend           # Conecta com Pods que têm label "app: backend"
  ports:                   # ← CONFIGURAÇÃO DE PORTAS
  - name: http             # Nome da porta
    port: 8080             # ← PORTA DO SERVICE (como outros acessam)
    targetPort: 8080       # ← PORTA DO CONTAINER (onde app roda)
    protocol: TCP          # Protocolo
  type: ClusterIP          # ← TIPO: Acesso apenas interno no cluster
---
# Função: "Portaria" que distribui requisições entre os Pods do backend
# Analogia: Recepcionista que direciona visitantes para apartamentos disponíveis
# Benefícios: Load balancing automático, DNS interno (backend-service.k8slab.svc.cluster.local)